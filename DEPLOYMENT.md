# project_managerå·¥ä½œé¡¹ç›®ç®¡ç† - Djangoé£æ ¼åŠ¨æ€ç½‘ç«™éƒ¨ç½²æŒ‡å—

## æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªDjangoé£æ ¼çš„åŠ¨æ€ç½‘ç«™ï¼Œå®Œå…¨æ‘†è„±äº†æµè§ˆå™¨localStorageä¾èµ–ï¼Œæ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨æœåŠ¡å™¨çš„æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œé€‚åˆå…¬ç½‘éƒ¨ç½²ã€‚

## æ ¸å¿ƒç‰¹æ€§

âœ… **Djangoé£æ ¼æ¶æ„**: Python HTTPæœåŠ¡å™¨ + æ–‡ä»¶æ•°æ®åº“
âœ… **æœ¬åœ°æ–‡ä»¶å­˜å‚¨**: æ•°æ®ä¿å­˜åœ¨ `database/` ç›®å½•ï¼Œä¸ä¾èµ–æµè§ˆå™¨
âœ… **æ— è‡ªåŠ¨ä¸‹è½½**: é¡µé¢åŠ è½½æ—¶ä¸ä¼šè‡ªåŠ¨ä¸‹è½½JSONæ–‡ä»¶
âœ… **æ•°æ®æŒä¹…æ€§**: æœåŠ¡å™¨é‡å¯åæ•°æ®ä¾ç„¶å­˜åœ¨
âœ… **å…¬ç½‘éƒ¨ç½²å°±ç»ª**: æ”¯æŒå…¬ç½‘IPè®¿é—®
âœ… **æ¨¡æ€æ¡†ä¿®å¤**: ä¿å­˜åè‡ªåŠ¨å…³é—­å¼¹çª—

## å¿«é€Ÿå¯åŠ¨

### 1. å¯åŠ¨æœåŠ¡å™¨
```bash
python3 server.py
```

### 2. è®¿é—®ç½‘ç«™
- æœ¬åœ°è®¿é—®: http://localhost:8000
- å…¬ç½‘è®¿é—®: http://ä½ çš„IPåœ°å€:8000

### 3. æµ‹è¯•åŠŸèƒ½
```bash
python3 test_server.py
```

## æ–‡ä»¶ç»“æ„

```
project_manage/
â”œâ”€â”€ server.py                 # Python HTTPæœåŠ¡å™¨ (Djangoé£æ ¼)
â”œâ”€â”€ server_index.html         # æœåŠ¡å™¨å…¼å®¹çš„ä¸»é¡µé¢
â”œâ”€â”€ server_script.js          # æœåŠ¡å™¨ç«¯æ•°æ®ç®¡ç†
â”œâ”€â”€ ui_functions.js           # UIåŠŸèƒ½å‡½æ•°
â”œâ”€â”€ styles.css               # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ test_server.py           # åŠŸèƒ½æµ‹è¯•è„šæœ¬
â”œâ”€â”€ database/                # æ–‡ä»¶æ•°æ®åº“
â”‚   â”œâ”€â”€ plans.json          # è®¡åˆ’æ•°æ®
â”‚   â”œâ”€â”€ projects.json       # é¡¹ç›®æ•°æ®
â”‚   â”œâ”€â”€ tasks.json          # ä»»åŠ¡æ•°æ®
â”‚   â”œâ”€â”€ records.json        # è®°å½•æ•°æ®
â”‚   â””â”€â”€ init_data.json      # åˆå§‹æ•°æ®
â”œâ”€â”€ store/                  # æ–‡ä»¶å­˜å‚¨ç›®å½•
â”œâ”€â”€ init_database.py        # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â””â”€â”€ DEPLOYMENT.md           # æœ¬éƒ¨ç½²æŒ‡å—
```

## APIç«¯ç‚¹

### GET /api/data
åŠ è½½æ‰€æœ‰æ•°æ®
```json
{
  "plans": [...],
  "projects": [...],
  "tasks": [...],
  "records": [...]
}
```

### POST /api/save
ä¿å­˜æ•°æ®
```json
{
  "plans": [...],
  "projects": [...],
  "tasks": [...],
  "records": [...]
}
```

## æ•°æ®ç®¡ç†

### æ•°æ®å­˜å‚¨ä½ç½®
- æ‰€æœ‰æ•°æ®ä¿å­˜åœ¨ `database/` ç›®å½•çš„JSONæ–‡ä»¶ä¸­
- æ–‡ä»¶ä¸Šä¼ ä¿å­˜åœ¨ `store/` ç›®å½•
- æœåŠ¡å™¨é‡å¯åæ•°æ®ä¾ç„¶ä¿æŒ

### æ•°æ®å¤‡ä»½
ç›´æ¥å¤åˆ¶ `database/` ç›®å½•å³å¯å¤‡ä»½æ‰€æœ‰æ•°æ®ï¼š
```bash
cp -r database/ backup_$(date +%Y%m%d)/
```

### æ•°æ®æ¢å¤
å°†å¤‡ä»½çš„æ•°æ®åº“æ–‡ä»¶å¤åˆ¶å› `database/` ç›®å½•å³å¯æ¢å¤æ•°æ®ã€‚

## å…¬ç½‘éƒ¨ç½²

### 1. ç«¯å£é…ç½®
é»˜è®¤ç«¯å£8000ï¼Œå¯åœ¨ `server.py` ä¸­ä¿®æ”¹ï¼š
```python
PORT = 8000  # ä¿®æ”¹ä¸ºä½ éœ€è¦çš„ç«¯å£
```

### 2. é˜²ç«å¢™è®¾ç½®
ç¡®ä¿æœåŠ¡å™¨é˜²ç«å¢™å…è®¸8000ç«¯å£ï¼š
```bash
# Ubuntu/Debian
sudo ufw allow 8000

# CentOS/RHEL
sudo firewall-cmd --permanent --add-port=8000/tcp
sudo firewall-cmd --reload
```

### 3. åå°è¿è¡Œ
ä½¿ç”¨ `nohup` åå°è¿è¡Œï¼š
```bash
nohup python3 server.py > server.log 2>&1 &
```

### 4. è¿›ç¨‹ç®¡ç†
æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ï¼š
```bash
ps aux | grep server.py
```

åœæ­¢æœåŠ¡å™¨ï¼š
```bash
pkill -f "python3 server.py"
```

## æ€§èƒ½ä¼˜åŒ–

### 1. ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
å»ºè®®ä½¿ç”¨ Nginx + uWSGIï¼š
```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### 2. SSLè¯ä¹¦
ä½¿ç”¨ Let's Encrypt å¯ç”¨HTTPSï¼š
```bash
sudo certbot --nginx -d your-domain.com
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: é¡µé¢æ— æ³•åŠ è½½ï¼Ÿ**
A: æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦å¯åŠ¨ï¼Œç«¯å£æ˜¯å¦è¢«å ç”¨

**Q: æ•°æ®ä¿å­˜å¤±è´¥ï¼Ÿ**
A: æ£€æŸ¥ `database/` ç›®å½•æƒé™ï¼Œç¡®ä¿æœåŠ¡å™¨æœ‰å†™å…¥æƒé™

**Q: æ— æ³•å…¬ç½‘è®¿é—®ï¼Ÿ**
A: æ£€æŸ¥é˜²ç«å¢™è®¾ç½®å’Œç«¯å£è½¬å‘é…ç½®

**Q: æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼Ÿ**
A: æ£€æŸ¥ `store/` ç›®å½•æƒé™

### æ—¥å¿—æŸ¥çœ‹
```bash
tail -f server.log
```

## æµ‹è¯•éªŒè¯

è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶ï¼š
```bash
python3 test_server.py
```

é¢„æœŸè¾“å‡ºï¼š
```
âœ… æœåŠ¡å™¨è¿è¡Œæ­£å¸¸
âœ… æ•°æ®åŠ è½½æˆåŠŸï¼
âœ… æ•°æ®ä¿å­˜æˆåŠŸï¼
âœ… æ•°æ®æŒä¹…æ€§éªŒè¯æˆåŠŸï¼
âœ… ä¸»é¡µåŠ è½½æˆåŠŸï¼
âœ… CSSæ–‡ä»¶åŠ è½½æˆåŠŸï¼
ğŸ‰ Djangoé£æ ¼åŠ¨æ€ç½‘ç«™æµ‹è¯•å®Œæˆï¼
```

## æ›´æ–°å‡çº§

### 1. å¤‡ä»½æ•°æ®
```bash
cp -r database/ backup_$(date +%Y%m%d)/
```

### 2. æ›´æ–°ä»£ç 
```bash
git pull  # æˆ–æ‰‹åŠ¨æ›¿æ¢æ–‡ä»¶
```

### 3. é‡å¯æœåŠ¡å™¨
```bash
pkill -f "python3 server.py"
python3 server.py
```

## æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. Pythonç‰ˆæœ¬ (éœ€è¦3.6+)
2. æ–‡ä»¶æƒé™è®¾ç½®
3. ç«¯å£å ç”¨æƒ…å†µ
4. é˜²ç«å¢™é…ç½®

---

**åˆ›å»ºè€…**: project_manager using Claude Code
**ç‰ˆæœ¬**: 1.0.0
**æ›´æ–°æ—¶é—´**: 2025-10-06
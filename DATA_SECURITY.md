# 数据安全保障说明

## 🔒 数据安全机制

您的项目数据现在受到**三重保护**，确保数据万无一失：

### 1. 浏览器本地存储 (LocalStorage)
- **位置**: 浏览器本地存储
- **特点**: 即时保存，快速访问
- **风险**: 浏览器清理、系统重装会丢失

### 2. 自动文件备份 (本地文件下载)
- **位置**: 自动下载到用户下载文件夹
- **文件名**: `projects_backup_时间戳.json`
- **特点**: 每次数据变更自动备份，永久保存

### 3. 手动文件恢复
- **功能**: 可从任何备份文件恢复数据
- **支持**: 跨设备、跨浏览器数据迁移

## 🚀 使用方法

### 自动备份 (推荐)
系统会**自动**在以下情况下备份数据：
- ✅ 创建新计划
- ✅ 创建新项目
- ✅ 创建新任务
- ✅ 编辑任何内容
- ✅ 删除项目/计划

**备份文件**会自动下载到您的下载文件夹，文件名格式：`projects_backup_2025-10-06T13-45-30.json`

### 手动恢复数据
1. 点击仪表盘的 **"恢复数据"** 按钮
2. 选择之前下载的 `.json` 备份文件
3. 确认恢复（会覆盖当前数据）
4. 数据立即恢复完成

### 数据导出
点击 **"导出数据"** 按钮可手动导出当前所有数据。

## 📁 文件存储位置

### 备份文件位置
- **默认位置**: 系统下载文件夹
- **文件格式**: `projects_backup_时间戳.json`
- **内容**: 所有计划、项目、任务、记录数据

### 数据目录结构
```
project_manage/
├── data/                      # 数据文件夹
│   ├── projects_backup_*.json # 自动备份文件
│   └── latest_backup.json     # 最新备份
├── index.html                 # 主程序
├── script.js                  # 核心功能
├── styles.css                 # 样式文件
└── auto_save.py              # 服务器自动保存脚本
```

## 🔧 高级配置

### 方案一：纯浏览器模式 (推荐普通用户)
- **优点**: 简单易用，无需安装
- **安全**: 自动文件备份
- **使用**: 直接打开 `index.html`

### 方案二：服务器模式 (推荐开发者)
- **优点**: 数据自动保存到服务器文件夹
- **安全**: 双重备份
- **使用**: 运行 `python auto_save.py`

#### 启动服务器模式
```bash
cd /path/to/project_manage
python auto_save.py
```
访问: `http://localhost:8000`

## 💾 数据容量说明

### 浏览器存储限制
- **一般限制**: 5-10MB
- **实际可用**: 取决于设备和浏览器
- **建议**: 定期清理旧备份，避免大图片上传

### 文件备份容量
- **无限制**: 仅受硬盘空间限制
- **支持**: 大量数据、高分辨率图片
- **建议**: 定期整理备份文件

## 🛡️ 数据安全最佳实践

### 1. 定期备份
- 每周至少手动导出一次数据
- 重要操作前先手动导出备份

### 2. 多地存储
- 将备份文件存储到多个位置
- 使用云盘同步备份文件夹
- 定期将备份复制到U盘

### 3. 版本管理
- 保留多个时间点的备份文件
- 重要里程碑创建特殊命名的备份
- 定期清理过期的备份文件

### 4. 数据迁移
- 换电脑前导出最新数据
- 使用备份文件在新设备上恢复数据
- 验证数据完整性后再清理旧设备

## 🚨 注意事项

### ⚠️ 重要提醒
1. **备份文件是JSON格式**，不要用Excel等软件直接编辑
2. **恢复数据会覆盖当前所有内容**，请谨慎操作
3. **定期检查备份文件**是否可以正常打开
4. **图片数据占用空间较大**，注意存储容量

### 🔄 兼容性
- **支持所有现代浏览器**: Chrome, Firefox, Safari, Edge
- **跨平台**: Windows, macOS, Linux
- **移动设备**: 支持手机浏览器访问

## 🆘 故障排除

### 问题1: 自动备份失败
**解决方案**:
1. 检查浏览器下载权限
2. 手动导出数据作为替代
3. 尝试刷新页面后重试

### 问题2: 恢复数据失败
**解决方案**:
1. 确认文件格式为 `.json`
2. 检查文件内容是否完整
3. 尝试用文本编辑器查看文件是否损坏

### 问题3: 数据丢失
**解决方案**:
1. 检查下载文件夹中的备份文件
2. 从最近的备份文件恢复数据
3. 查看是否有其他版本的备份

---

## 📞 技术支持

如果遇到数据安全问题，请：
1. 首先尝试从备份文件恢复
2. 检查浏览器控制台错误信息
3. 保存错误信息和备份文件以便排查

**您的数据安全是我们的首要任务！** 🛡️